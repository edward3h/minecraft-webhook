plugins {
	id 'java'
	id "com.diffplug.spotless"
	id "com.github.jakemarsden.git-hooks"
}

spotless {
    format 'misc', {
        target '*.md', '.gitignore'
        trimTrailingWhitespace()
        indentWithSpaces()
        endWithNewline()
    }
    java {
        importOrder()
        removeUnusedImports()
        prettier(['prettier': '2.3.2', 'prettier-plugin-java': '1.3.0']).config(['parser': 'java', 'tabWidth': 4])
        licenseHeader('/* (C) Edward Harman $YEAR */').updateYearWithLatest(true)
    }
    groovyGradle {
        greclipse()
    }
}

gitHooks {
	hooks = ['pre-commit': 'check']
    hooksDirectory = file("${project.rootDir}/.git/hooks")
}